@baseUrl=http://127.0.0.1:3000
@user_token={{ user.response.body.token }}
@admin_token={{ admin.response.body.token }}

### Login with admin account
# @name admin
POST {{ baseUrl }}/auth/login
Content-Type: application/json

{
    "login": "admin@example.com",
    "password": "password"
}

### Register with company
POST {{ baseUrl }}/auth/register
Content-Type: application/json
Authorization: Bearer {{ admin_token }}

{
    "firstname": "John",
    "lastname": "Doe",
    "login": "erzvzvz",
    "password": "password",
    "role": "user",
    "company_id": 1
}

### Login with user account
# @name user
POST {{ baseUrl }}/auth/login
Content-Type: application/json

{
    "login": "user1@example.com",
    "password": "password"
}

### Add an answer
POST {{ baseUrl }}/answers
Content-Type: application/json

{
    "answer": "cc sava",
    "template": "test",
    "question_id": 1,
    "score": 0.3,
    "engagement_score": 0.5,
    "is_forced_engagement": false
}

### Add an answer for a user without text
POST {{ baseUrl }}/answers/4
Content-Type: application/json
Authorization: Bearer {{ user_token }}

{
    "form_id": 4,
    "now": true,
    "commitment_pact": false,
    "comment": " "
}

### Add an answer for a user with text
POST {{ baseUrl }}/answers/3
Content-Type: application/json
Authorization: Bearer {{ user_token }}

{
    "answer": "cc sava",
    "form_id": 1,
    "now": true,
    "commitment_pact": false,
    "comment": " "
}

### Get the answers of a question
GET {{ baseUrl }}/answers/1
Authorization: Bearer {{ user_token }}

### get the score of a form
GET {{ baseUrl }}/score/4
Authorization: Bearer {{ user_token }}